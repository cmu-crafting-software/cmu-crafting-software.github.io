<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>HW04 Pandas | Crafting Software</title><meta name="generator" content="Jekyll v3.10.0" /><meta property="og:title" content="HW04 Pandas" /><meta name="author" content="Michael Hilton and Josh Sunshine" /><meta property="og:locale" content="en_US" /><meta name="description" content="Welcome to Crafting Software" /><meta property="og:description" content="Welcome to Crafting Software" /><link rel="canonical" href="https://cmu-crafting-software.github.io//assignments/hw4" /><meta property="og:url" content="https://cmu-crafting-software.github.io//assignments/hw4" /><meta property="og:site_name" content="Crafting Software" /><meta property="og:type" content="website" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="HW04 Pandas" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Michael Hilton and Josh Sunshine"},"description":"Welcome to Crafting Software","headline":"HW04 Pandas","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://cmu-crafting-software.github.io//assets/images/crafting_software_header_noBG.png"},"name":"Michael Hilton and Josh Sunshine"},"url":"https://cmu-crafting-software.github.io//assignments/hw4"}</script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg><div class="side-bar"><div class="site-header"> <a href="https://cmu-crafting-software.github.io//" class="site-title lh-tight"><div class="site-logo"></div></a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a></div><nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item"><a href="https://cmu-crafting-software.github.io//resources/" class="nav-list-link">Resources</a><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://cmu-crafting-software.github.io//assignments/" class="nav-list-link">Assignments</a><ul class="nav-list "><li class="nav-list-item "><a href="https://cmu-crafting-software.github.io//assignments/proposal" class="nav-list-link">Final Project Proposal</a><li class="nav-list-item "><a href="https://cmu-crafting-software.github.io//assignments/hw1" class="nav-list-link">HW01 Version Control</a><li class="nav-list-item "><a href="https://cmu-crafting-software.github.io//assignments/hw2" class="nav-list-link">HW02 Reading Data</a><li class="nav-list-item "><a href="https://cmu-crafting-software.github.io//assignments/hw3" class="nav-list-link">HW03 Defensive Programming</a><li class="nav-list-item active"><a href="https://cmu-crafting-software.github.io//assignments/hw4" class="nav-list-link active">HW04 Pandas</a><li class="nav-list-item "><a href="https://cmu-crafting-software.github.io//assignments/hw5" class="nav-list-link">HW05 Hypothesis</a><li class="nav-list-item "><a href="https://cmu-crafting-software.github.io//assignments/hw6" class="nav-list-link">HW06 Visualization</a></ul><li class="nav-list-item"><a href="https://cmu-crafting-software.github.io//calendar/" class="nav-list-link">Calendar</a><li class="nav-list-item"><a href="https://cmu-crafting-software.github.io//staff/" class="nav-list-link">Staff</a><li class="nav-list-item"><a href="https://cmu-crafting-software.github.io//syllabus/" class="nav-list-link">Syllabus</a></ul></nav><footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Crafting Software" aria-label="Search Crafting Software" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div></div><div id="main-content-wrap" class="main-content-wrap"><nav aria-label="Breadcrumb" class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="https://cmu-crafting-software.github.io//assignments/">Assignments</a><li class="breadcrumb-nav-list-item"><span>HW04 Pandas</span></ol></nav><div id="main-content" class="main-content" role="main"><h1 id="homework-4"> <a href="#homework-4" class="anchor-heading" aria-labelledby="homework-4"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Homework 4</h1><p><strong class="label label-red">Due Wednesday Feb 28th at 4:00pm EST</strong></p><p>In this homework, you will be working with Pandas in a Juypter notebook.</p><p>Please read the entire assignment in full before you begin. You might find some helpful information in the <a href="#resources">Resources</a> section.</p><h2 id="learning-goals"> <a href="#learning-goals" class="anchor-heading" aria-labelledby="learning-goals"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Learning goals</h2><ul><li>Import data into a notebook<li>Answer questions by analyzing the dataframe<li>Join two dataframes<li>Follow best practices for notebook use</ul><h2 id="tasks"> <a href="#tasks" class="anchor-heading" aria-labelledby="tasks"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Tasks</h2><p>For this assignment, you will be doing Pandas tasks, and you will share your solution in a Jupyter notebook.</p><p>You will be asked to perform the following series of tasks, all in Jupyter notebook:</p><ul><li>Import data into dataframes from a CSV file (COVID vaccine and case data) and via a REST API (census data).<li>Add a column to the vaccination data that indicates what day of the week each day represents<li>Find the average number of increase in cases by day of the week (i.e., the avg number of cases increase on mondays, tuesdays, etc)<li>Join dataframes<li>Add a new column to the dataframe that is the per capita hospitalized number (hospitalizedCurrently/ total number of residents).<li>Avoid hidden state errors</ul><h3 id="import-data-into-dataframes"> <a href="#import-data-into-dataframes" class="anchor-heading" aria-labelledby="import-data-into-dataframes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Import data into dataframes</h3><p>You should import the COVID data from this CSV file:</p><p><a href="https://gist.githubusercontent.com/wodeni/2d838d8241b229b63aa2a4f1a044e994/raw/12b1bcf27d06ed9c864f03933333f76918781c3f/state.timeseries.csv">https://gist.githubusercontent.com/wodeni/2d838d8241b229b63aa2a4f1a044e994/raw/12b1bcf27d06ed9c864f03933333f76918781c3f/state.timeseries.csv</a></p><p>Use the query from <a href="https://github.com/cmu-crafting-software/recitations-24/tree/main/recitation-2">Recitation-2</a> and the <a href="https://docs.python-requests.org/en/latest/"><code class="language-plaintext highlighter-rouge">requests</code> library</a> to request the census data and load it into a dataframe:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://api.census.gov/data/2019/pep/charagegroups?get=NAME,POP&amp;for=state:*
</code></pre></div></div><p>You should import each dataset into a dataframe each, and you will use these dataframes for the rest of the homework.</p><h3 id="add-a-column-to-the-vaccine-data-that-indicates-what-day-of-the-week-each-day-represents"> <a href="#add-a-column-to-the-vaccine-data-that-indicates-what-day-of-the-week-each-day-represents" class="anchor-heading" aria-labelledby="add-a-column-to-the-vaccine-data-that-indicates-what-day-of-the-week-each-day-represents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Add a column to the vaccine data that indicates what day of the week each day represents</h3><p>You should add a new column to the vaccine dataframe that represents the day of the week. You can use strings or numbers to represent the day of the week. (It’s okay if you want to do both a number and a string).</p><h3 id="find-the-average-number-of-case-increase-by-day-of-the-week"> <a href="#find-the-average-number-of-case-increase-by-day-of-the-week" class="anchor-heading" aria-labelledby="find-the-average-number-of-case-increase-by-day-of-the-week"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Find the average number of case increase by day of the week</h3><p>Using pandas, you should calculate (and print) the average number of increased cases by day of the week. NOTE: you might want to plot this data. We will talk about visualizations in depth later on, but for now, you may plot the data if you want, but you are not required to.</p><h3 id="join-dataframes"> <a href="#join-dataframes" class="anchor-heading" aria-labelledby="join-dataframes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Join dataframes</h3><p>Join both dataframes, the vaccine and the census data. You should join them on states, as we have done previously. You should also create new dataframe that you can use for the following question.</p><h3 id="add-a-new-column-to-the-dataframe-that-is-the-per-capita-vaccination-number"> <a href="#add-a-new-column-to-the-dataframe-that-is-the-per-capita-vaccination-number" class="anchor-heading" aria-labelledby="add-a-new-column-to-the-dataframe-that-is-the-per-capita-vaccination-number"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Add a new column to the dataframe that is the per capita vaccination number</h3><p>Add a new column to the combined dataframe that is per capita vaccination (<code class="language-plaintext highlighter-rouge">vaccination / total number of residents</code>) for each state.</p><h3 id="avoid-hidden-state-errors"> <a href="#avoid-hidden-state-errors" class="anchor-heading" aria-labelledby="avoid-hidden-state-errors"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Avoid hidden state errors</h3><p>Throughout this homework, you should follow best practices as we described in lecture. Specifically, you should avoid relying on hidden state. This means that you should be able to run your cells in any order, and get the same results.</p><p>You should not have any 2 cells that write to the same object in shared state, but you may read the same object several times.</p><h2 id="bonus-challenge"> <a href="#bonus-challenge" class="anchor-heading" aria-labelledby="bonus-challenge"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Bonus Challenge:</h2><p>Calculate a statistical test to see if there is a statistical difference between weekend vs weekday cases.</p><h2 id="resources"> <a href="#resources" class="anchor-heading" aria-labelledby="resources"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Resources</h2><ul><li><a href="https://pandas.pydata.org/docs/user_guide/merging.html">https://pandas.pydata.org/docs/user_guide/merging.html</a><li><a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.sort_index.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.sort_index.html</a><li><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html</a><li><a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.groupby.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.groupby.html</a></ul><h2 id="tips-and-suggestions"> <a href="#tips-and-suggestions" class="anchor-heading" aria-labelledby="tips-and-suggestions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Tips and Suggestions</h2><p>To calculate the day of the week, consider reading the <code class="language-plaintext highlighter-rouge">datetime</code> documentation: <a href="https://docs.python.org/3/library/datetime.html">https://docs.python.org/3/library/datetime.html</a> To calculate information by day of the week, considering which information to make the index of the DataFrame and the various index operations available</p><h2 id="deadlines-and-deliverables"> <a href="#deadlines-and-deliverables" class="anchor-heading" aria-labelledby="deadlines-and-deliverables"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Deadlines and Deliverables</h2><p><strong>Due Date</strong>: Wednesday Feb 28th at 4:00pm EST</p><p>The deliverable should be committed and pushed to the main branch of your repository on GitHub. Your notebook file (i.e. <code class="language-plaintext highlighter-rouge">.ipynb</code>) file should be committed and pushed to your homework repository in a <code class="language-plaintext highlighter-rouge">hw4</code> subdirectory.</p></div></div><div class="search-overlay"></div></div>
